!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Task Manager</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Configure Tailwind to use Inter font -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        'primary-blue': '#4F46E5',
                        'primary-light': '#818CF8',
                        'success-green': '#10B981',
                        'danger-red': '#EF4444',
                        'gray-bg': '#F9FAFB',
                    }
                }
            }
        }
    </script>
    <style>
        /* Custom styles for better aesthetics and focus */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            min-height: 100vh;
        }
        .task-list-item {
            transition: all 0.3s ease;
        }
        .task-list-item.completed {
            background-color: #f0fdf4; /* Light green background for completed */
        }
    </style>
</head>
<body class="p-4 sm:p-8 flex items-start justify-center">

    <div class="w-full max-w-xl bg-white shadow-2xl rounded-xl p-6 sm:p-8">
        <h1 class="text-3xl font-extrabold text-primary-blue mb-2 text-center">
            üìã Web Task Manager
        </h1>
        <p class="text-gray-500 mb-6 text-center">Add, manage, and complete your daily tasks.</p>

        <!-- Task Input Form -->
        <form id="task-form" class="flex flex-col sm:flex-row gap-3 mb-8">
            <input
                type="text"
                id="task-input"
                placeholder="What needs to be done?"
                class="flex-grow p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-primary-blue text-gray-700"
                required
            >
            <button
                type="submit"
                class="shrink-0 bg-primary-blue hover:bg-primary-light text-white font-semibold py-3 px-6 rounded-lg transition duration-200 shadow-md hover:shadow-lg"
            >
                Add Task
            </button>
        </form>

        <!-- Task List Container -->
        <div class="space-y-6">
            <div id="pending-tasks-container">
                <h2 class="text-xl font-bold text-gray-700 mb-3 border-b pb-1">
                    <span class="inline-block w-4 h-4 rounded-full bg-yellow-400 mr-2"></span>Pending Tasks (<span id="pending-count">0</span>)
                </h2>
                <ul id="pending-list" class="space-y-3">
                    <!-- Tasks will be rendered here -->
                </ul>
            </div>

            <div id="completed-tasks-container">
                <h2 class="text-xl font-bold text-gray-700 mb-3 border-b pb-1 mt-6">
                    <span class="inline-block w-4 h-4 rounded-full bg-success-green mr-2"></span>Completed Tasks (<span id="completed-count">0</span>)
                </h2>
                <ul id="completed-list" class="space-y-3">
                    <!-- Completed tasks will be rendered here -->
                </ul>
            </div>
        </div>
    </div>

    <script>
        // --- DATA STRUCTURE ---
        // Array to store all tasks: { id: number, description: string, completed: boolean }
        let tasks = [];
        let taskIdCounter = 1;

        // --- DOM ELEMENTS ---
        const taskForm = document.getElementById('task-form');
        const taskInput = document.getElementById('task-input');
        const pendingList = document.getElementById('pending-list');
        const completedList = document.getElementById('completed-list');
        const pendingCountSpan = document.getElementById('pending-count');
        const completedCountSpan = document.getElementById('completed-count');

        // --- INITIAL DATA (Seeding similar to Python version) ---
        function seedData() {
            addTask("Buy groceries (milk, bread)", false);
            addTask("Finish Python to JavaScript conversion", true);
            addTask("Schedule dentist appointment", false);
            renderTasks();
        }

        // --- CORE LOGIC ---

        /**
         * Renders the current list of tasks to the DOM.
         */
        function renderTasks() {
            pendingList.innerHTML = '';
            completedList.innerHTML = '';

            let pendingCount = 0;
            let completedCount = 0;

            if (tasks.length === 0) {
                pendingList.innerHTML = '<li class="text-gray-400 p-3 text-center">You are all caught up! Add a new task to begin.</li>';
                completedList.innerHTML = '<li class="text-gray-400 p-3 text-center">No tasks completed yet.</li>';
            }

            tasks.forEach(task => {
                const listItem = document.createElement('li');
                listItem.className = `task-list-item flex items-center justify-between p-3 rounded-lg shadow-sm ${task.completed ? 'completed border-l-4 border-success-green' : 'bg-white border-l-4 border-primary-blue/50 hover:bg-gray-50'}`;
                listItem.dataset.taskId = task.id;

                const statusIcon = task.completed
                    ? '<span class="text-success-green text-xl mr-3">‚úî</span>'
                    : '<span class="text-yellow-500 text-xl mr-3">‚ö™</span>';

                const descriptionClass = task.completed
                    ? 'line-through text-gray-400'
                    : 'text-gray-800 font-medium';

                listItem.innerHTML = `
                    <div class="flex items-center flex-grow min-w-0">
                        <!-- Toggle Button (Checkbox) -->
                        <button
                            class="toggle-btn w-6 h-6 mr-3 text-lg focus:outline-none"
                            aria-label="Toggle completion for task ${task.id}"
                            data-task-id="${task.id}"
                            onclick="toggleComplete(${task.id})"
                        >
                            ${task.completed ? '<span class="text-success-green">‚òë</span>' : '<span class="text-gray-300 hover:text-primary-blue">‚òê</span>'}
                        </button>

                        <span class="${descriptionClass} truncate">${task.description}</span>
                    </div>

                    <!-- Delete Button -->
                    <button
                        class="delete-btn ml-4 text-gray-400 hover:text-danger-red transition duration-150 p-1 rounded-full"
                        aria-label="Delete task ${task.id}"
                        data-task-id="${task.id}"
                        onclick="deleteTask(${task.id})"
                    >
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                        </svg>
                    </button>
                `;

                if (task.completed) {
                    completedList.appendChild(listItem);
                    completedCount++;
                } else {
                    pendingList.appendChild(listItem);
                    pendingCount++;
                }
            });

            pendingCountSpan.textContent = pendingCount;
            completedCountSpan.textContent = completedCount;
        }

        /**
         * Adds a new task to the list.
         * @param {string} description - The task description.
         * @param {boolean} [completed=false] - Optional initial completion status.
         */
        function addTask(description, completed = false) {
            if (!description.trim()) return;

            const newTask = {
                id: taskIdCounter++,
                description: description.trim(),
                completed: completed
            };
            tasks.push(newTask);
            
            // Re-render the list immediately
            renderTasks();
            taskInput.value = ''; // Clear input field
        }

        /**
         * Toggles the completion status of a task by ID.
         * @param {number} id - The ID of the task to toggle.
         */
        function toggleComplete(id) {
            const task = tasks.find(t => t.id === id);
            if (task) {
                task.completed = !task.completed;
                renderTasks();
            }
        }

        /**
         * Deletes a task by its ID.
         * @param {number} id - The ID of the task to delete.
         */
        function deleteTask(id) {
            tasks = tasks.filter(t => t.id !== id);
            renderTasks();
        }

        // --- EVENT LISTENERS ---

        taskForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const description = taskInput.value;
            addTask(description);
        });

        // Initialize the app
        window.onload = seedData;

    </script>
</body>
</html>